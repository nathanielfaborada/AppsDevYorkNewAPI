{"mappings":"ACIA,MAAM,EAAW,SAAS,cAAc,CAAC,QACnC,EAAc,SAAS,cAAc,CAAC,WAGtC,EAAa,UACjB,GAAI,CAEF,IAAM,EAAM,MAAM,MAXC,kHAanB,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,CAAC,4BAA4B,EAAE,EAAI,MAAM,CAAC,CAAC,EAExE,OADa,MAAM,EAAI,IAAI,EAE7B,CAAE,MAAO,EAAG,CACV,QAAQ,IAAI,CAAC,uDAAwD,GACrE,GAAI,CAEF,IAAM,EAAM,MAAM,MAlBF,qBAmBhB,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,CAAC,2BAA2B,EAAE,EAAI,MAAM,CAAC,CAAC,EAEvE,OADa,MAAM,EAAI,IAAI,EAE7B,CAAE,MAAO,EAAO,CAGd,OAFA,MAAM,+CACN,QAAQ,KAAK,CAAC,GACP,EAAE,AACX,CACF,CACF,EAEC,AAAA,CAAA,UAGC,QAAQ,GAAG,CAFE,MAAM,IAGrB,CAAA,IAEA,MAAM,EAAe,AAAC,IACpB,EAAS,SAAS,CAAG,GACrB,IAAM,EAAU,EAAK,OAAO,EAAI,EAAK,OAAO,CAAC,EAAE,EAAK,CAAE,YAAa,gBAAiB,EAC5E,EAAkB,SAAS,aAAa,CAAC,MAAM,SACrD,EAAgB,YAAY,CAAC,QAAS,QACtC,EAAgB,SAAS,CAAG,CAAC;UACvB,EAAE,EAAO,WAAW,CAAC;IAC3B,CAAC,CACD,EAAS,WAAW,CAAC,EAEzB,EAEC,AAAA,CAAA,UAEC,EADa,MAAM,IAErB,CAAA,IAEA,MAAM,EAAkB,AAAC,IACvB,EAAY,SAAS,CAAG,GAMxB,AAHc,CAAA,EAAK,OAAO,EAAI,EAAE,AAAF,EAGxB,KAAK,CAAC,EAAG,GAAG,OAAO,CAAC,AAAC,IACzB,IAAM,EAAgB,SAAS,aAAa,CAAC,OAC7C,EAAc,YAAY,CAAC,QAAS,gBAGpC,EAAc,SAAS,CAAG,CAAC;eAChB,EAAE,EAAK,GAAG,CAAC;QAClB,EAAE,EAAK,UAAU,EAAI,WAAW,KAAK,EAAE,EAAK,MAAM,EAAI,iBAAiB;;IAE3E,CAAC,CAED,EAAY,WAAW,CAAC,EAC1B,EACF,EAGC,AAAA,CAAA,UAGC,EADa,MAAM,IAErB,CAAA","sources":["<anon>","src/stephenking_script.js"],"sourcesContent":["const API_Url_Remote = \"https://api.nytimes.com/svc/books/v3/reviews.json?author=Stephen+King&api-key=z9vMI8z1dlIkcPAYT255wqx6jrHy86Kh\";\nconst API_Url_Local = \"/stephenking.json\";\nconst MainLogo = document.getElementById(\"logo\");\nconst MainContent = document.getElementById(\"stephen\");\nconst GETalldata = async ()=>{\n    try {\n        const res = await fetch(API_Url_Remote);\n        if (!res.ok) throw new Error(`Error fetching from remote: ${res.status}`);\n        const data = await res.json();\n        return data;\n    } catch (e) {\n        console.warn(\"Fetching remote data failed, switching to local data\", e);\n        try {\n            const res = await fetch(API_Url_Local);\n            if (!res.ok) throw new Error(`Error fetching from local: ${res.status}`);\n            const data = await res.json();\n            return data;\n        } catch (error) {\n            alert(\"An error occurred while fetching local data\");\n            console.error(error);\n            return [];\n        }\n    }\n};\n(async ()=>{\n    const data = await GETalldata();\n    console.log(data);\n})();\nconst updateNAVBAR = (data)=>{\n    MainLogo.innerHTML = \"\";\n    const author = data.results && data.results[0] || {\n        book_author: \"Unknown Author\"\n    };\n    const headerContainer = document.createElement(\"nav\", \"label\");\n    headerContainer.setAttribute(\"class\", \"logo\");\n    headerContainer.innerHTML = `\r\n      <h1>${author.book_author}</h1>\r\n    `;\n    MainLogo.appendChild(headerContainer);\n};\n(async ()=>{\n    const data = await GETalldata();\n    updateNAVBAR(data);\n})();\nconst updateContainer = (data)=>{\n    MainContent.innerHTML = \"\";\n    // Access the 'books' array inside 'results'\n    const books = data.results || [];\n    // Use slice to get the first 8 books\n    books.slice(0, 8).forEach((book)=>{\n        const bookContainer = document.createElement(\"div\");\n        bookContainer.setAttribute(\"class\", \"main-content\");\n        // Create an anchor element with the book's URL, title, and byline\n        bookContainer.innerHTML = `\r\n      <a href=\"${book.url}\" target=\"_blank\">\r\n        ${book.book_title || \"No title\"}, by ${book.byline || \"Unknown Author\"}\r\n      </a>\r\n    `;\n        MainContent.appendChild(bookContainer);\n    });\n};\n// Simulating the data fetch as an async function\n(async ()=>{\n    // Replace this with the actual function to get the data\n    const data = await GETalldata();\n    updateContainer(data);\n})();\n\n//# sourceMappingURL=stephen-king.e4ab08f7.js.map\n","const API_Url_Remote = 'https://api.nytimes.com/svc/books/v3/reviews.json?author=Stephen+King&api-key=z9vMI8z1dlIkcPAYT255wqx6jrHy86Kh';\r\n\r\nconst API_Url_Local = '/stephenking.json';\r\n\r\nconst MainLogo = document.getElementById('logo');\r\nconst MainContent = document.getElementById('stephen');\r\n\r\n\r\nconst GETalldata = async () => {\r\n  try {\r\n\r\n    const res = await fetch(API_Url_Remote);\r\n\r\n    if (!res.ok) throw new Error(`Error fetching from remote: ${res.status}`);\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (e) {\r\n    console.warn('Fetching remote data failed, switching to local data', e);\r\n    try {\r\n      \r\n      const res = await fetch(API_Url_Local);\r\n      if (!res.ok) throw new Error(`Error fetching from local: ${res.status}`);\r\n      const data = await res.json();\r\n      return data;\r\n    } catch (error) {\r\n      alert('An error occurred while fetching local data');\r\n      console.error(error);\r\n      return [];\r\n    }\r\n  }\r\n};\r\n\r\n(async () => {\r\n  const data = await GETalldata();\r\n\r\n  console.log(data);\r\n})();\r\n\r\nconst updateNAVBAR = (data) => { \r\n  MainLogo.innerHTML = ''; \r\n  const author = (data.results && data.results[0]) || { book_author: 'Unknown Author' };\r\n    const headerContainer = document.createElement('nav','label');\r\n    headerContainer.setAttribute('class', 'logo');\r\n    headerContainer.innerHTML = `\r\n      <h1>${author.book_author}</h1>\r\n    `;\r\n    MainLogo.appendChild(headerContainer);\r\n\r\n};\r\n\r\n(async () => {\r\n  const data = await GETalldata();\r\n  updateNAVBAR(data);\r\n})();\r\n\r\nconst updateContainer = (data) => {\r\n  MainContent.innerHTML = '';\r\n\r\n  // Access the 'books' array inside 'results'\r\n  const books = data.results || [];\r\n\r\n  // Use slice to get the first 8 books\r\n  books.slice(0, 8).forEach((book) => {\r\n    const bookContainer = document.createElement('div');\r\n    bookContainer.setAttribute('class', 'main-content');\r\n\r\n    // Create an anchor element with the book's URL, title, and byline\r\n    bookContainer.innerHTML = `\r\n      <a href=\"${book.url}\" target=\"_blank\">\r\n        ${book.book_title || 'No title'}, by ${book.byline || 'Unknown Author'}\r\n      </a>\r\n    `;\r\n\r\n    MainContent.appendChild(bookContainer);\r\n  });\r\n};\r\n\r\n// Simulating the data fetch as an async function\r\n(async () => {\r\n  // Replace this with the actual function to get the data\r\n  const data = await GETalldata();\r\n  updateContainer(data);\r\n})();\r\n\r\n\r\n"],"names":["MainLogo","document","getElementById","MainContent","GETalldata","res","fetch","ok","Error","status","json","e","console","warn","error","alert","log","updateNAVBAR","data","innerHTML","author","results","book_author","headerContainer","createElement","setAttribute","appendChild","updateContainer","books","slice","forEach","book","bookContainer","url","book_title","byline"],"version":3,"file":"stephen-king.e4ab08f7.js.map"}