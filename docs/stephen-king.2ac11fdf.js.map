{"mappings":"AAAA,MAAM,iBAAiB;AAEvB,MAAM,gBAAgB;AAEtB,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,cAAc,SAAS,cAAc,CAAC;AAG5C,MAAM,aAAa;IACjB,IAAI;QAEF,MAAM,MAAM,MAAM,MAAM;QAExB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,IAAI,MAAM,CAAC,CAAC;QACxE,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACT,EAAE,OAAO,GAAG;QACV,QAAQ,IAAI,CAAC,wDAAwD;QACrE,IAAI;YAEF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,2BAA2B,EAAE,IAAI,MAAM,CAAC,CAAC;YACvE,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,OAAO;QACT,EAAE,OAAO,OAAO;YACd,MAAM;YACN,QAAQ,KAAK,CAAC;YACd,OAAO,EAAE;QACX;IACF;AACF;AAEC,CAAA;IACC,MAAM,OAAO,MAAM;IAEnB,QAAQ,GAAG,CAAC;AACd,CAAA;AAEA,MAAM,eAAe,CAAC;IACpB,SAAS,SAAS,GAAG;IACrB,MAAM,SAAS,AAAC,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,EAAE,IAAK;QAAE,aAAa;IAAiB;IAClF,MAAM,kBAAkB,SAAS,aAAa,CAAC,OAAM;IACrD,gBAAgB,YAAY,CAAC,SAAS;IACtC,gBAAgB,SAAS,GAAG,CAAC;UACvB,EAAE,OAAO,WAAW,CAAC;IAC3B,CAAC;IACD,SAAS,WAAW,CAAC;AAEzB;AAEC,CAAA;IACC,MAAM,OAAO,MAAM;IACnB,aAAa;AACf,CAAA;AAEA,MAAM,kBAAkB,CAAC;IACvB,YAAY,SAAS,GAAG;IAExB,4CAA4C;IAC5C,MAAM,QAAQ,KAAK,OAAO,IAAI,EAAE;IAEhC,qCAAqC;IACrC,MAAM,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC,CAAC;QACzB,MAAM,gBAAgB,SAAS,aAAa,CAAC;QAC7C,cAAc,YAAY,CAAC,SAAS;QAEpC,kEAAkE;QAClE,cAAc,SAAS,GAAG,CAAC;eAChB,EAAE,KAAK,GAAG,CAAC;QAClB,EAAE,KAAK,UAAU,IAAI,WAAW,KAAK,EAAE,KAAK,MAAM,IAAI,iBAAiB;;IAE3E,CAAC;QAED,YAAY,WAAW,CAAC;IAC1B;AACF;AAEA,iDAAiD;AAChD,CAAA;IACC,wDAAwD;IACxD,MAAM,OAAO,MAAM;IACnB,gBAAgB;AAClB,CAAA","sources":["src/stephenking_script.js"],"sourcesContent":["const API_Url_Remote = 'https://api.nytimes.com/svc/books/v3/reviews.json?author=Stephen+King&api-key=z9vMI8z1dlIkcPAYT255wqx6jrHy86Kh';\r\n\r\nconst API_Url_Local = '/stephenking.json';\r\n\r\nconst MainLogo = document.getElementById('logo');\r\nconst MainContent = document.getElementById('stephen');\r\n\r\n\r\nconst GETalldata = async () => {\r\n  try {\r\n\r\n    const res = await fetch(API_Url_Remote);\r\n\r\n    if (!res.ok) throw new Error(`Error fetching from remote: ${res.status}`);\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (e) {\r\n    console.warn('Fetching remote data failed, switching to local data', e);\r\n    try {\r\n      \r\n      const res = await fetch(API_Url_Local);\r\n      if (!res.ok) throw new Error(`Error fetching from local: ${res.status}`);\r\n      const data = await res.json();\r\n      return data;\r\n    } catch (error) {\r\n      alert('An error occurred while fetching local data');\r\n      console.error(error);\r\n      return [];\r\n    }\r\n  }\r\n};\r\n\r\n(async () => {\r\n  const data = await GETalldata();\r\n\r\n  console.log(data);\r\n})();\r\n\r\nconst updateNAVBAR = (data) => { \r\n  MainLogo.innerHTML = ''; \r\n  const author = (data.results && data.results[0]) || { book_author: 'Unknown Author' };\r\n    const headerContainer = document.createElement('nav','label');\r\n    headerContainer.setAttribute('class', 'logo');\r\n    headerContainer.innerHTML = `\r\n      <h1>${author.book_author}</h1>\r\n    `;\r\n    MainLogo.appendChild(headerContainer);\r\n\r\n};\r\n\r\n(async () => {\r\n  const data = await GETalldata();\r\n  updateNAVBAR(data);\r\n})();\r\n\r\nconst updateContainer = (data) => {\r\n  MainContent.innerHTML = '';\r\n\r\n  // Access the 'books' array inside 'results'\r\n  const books = data.results || [];\r\n\r\n  // Use slice to get the first 8 books\r\n  books.slice(0, 8).forEach((book) => {\r\n    const bookContainer = document.createElement('div');\r\n    bookContainer.setAttribute('class', 'main-content');\r\n\r\n    // Create an anchor element with the book's URL, title, and byline\r\n    bookContainer.innerHTML = `\r\n      <a href=\"${book.url}\" target=\"_blank\">\r\n        ${book.book_title || 'No title'}, by ${book.byline || 'Unknown Author'}\r\n      </a>\r\n    `;\r\n\r\n    MainContent.appendChild(bookContainer);\r\n  });\r\n};\r\n\r\n// Simulating the data fetch as an async function\r\n(async () => {\r\n  // Replace this with the actual function to get the data\r\n  const data = await GETalldata();\r\n  updateContainer(data);\r\n})();\r\n\r\n\r\n"],"names":[],"version":3,"file":"stephen-king.2ac11fdf.js.map","sourceRoot":"/__parcel_source_root/"}